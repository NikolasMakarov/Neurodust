<?xml version="1.0" encoding="utf-8" ?>
<Defs>

<!-- ============================== Neurodust High ============================== -->

  <HediffDef>
    <defName>NeurodustHigh</defName>
    <label>high on nurodust</label>
    <labelNoun>a nurodust high</labelNoun>
    <description>Active nurodust in the bloodstream. Generates an intense euphoric high.</description>
    <hediffClass>Hediff_High</hediffClass>
    <defaultLabelColor>(1,0,0.5)</defaultLabelColor>
    <scenarioCanAdd>true</scenarioCanAdd>
    <maxSeverity>1.0</maxSeverity>
    <isBad>false</isBad>
    <comps>
      <li Class="HediffCompProperties_SeverityPerDay">
        <severityPerDay>-1.5</severityPerDay>
        <showHoursToRecover>true</showHoursToRecover>
      </li>
    </comps>
      <stages>
        <li>
          <label>crash</label>
          <painFactor>0.9</painFactor>
          <socialFightChanceFactor>1.5</socialFightChanceFactor>
            <capMods>
              <li>
                <capacity>Manipulation</capacity>
                <offset>-0.20</offset>
              </li>
                <li>
                <capacity>Sight</capacity>
                <offset>-0.20</offset>
                </li>
            </capMods>
          <hediffGivers>
            <li Class="HediffGiver_Random">
              <hediff>ChemicalDamageModerate</hediff>
              <mtbDays>10</mtbDays>
              <partsToAffect>
                <li>Brain</li>
              </partsToAffect>
            </li>
          </hediffGivers>
        </li>
        <li>
          <minSeverity>0.25</minSeverity>
          <label>effect</label>
          <painFactor>0.8</painFactor>
          <capMods>
            <li>
              <capacity>Consciousness</capacity>
              <offset>-0.20</offset>
            </li>
            <li>
              <capacity>Moving</capacity>
              <offset>-0.20</offset>
            </li>
          </capMods>
        </li>
      </stages>
  </HediffDef>

  <ThoughtDef>
    <defName>NeurodustHigh</defName>
    <workerClass>ThoughtWorker_Hediff</workerClass>
    <hediff>NeurodustHigh</hediff>
    <validWhileDespawned>true</validWhileDespawned>
    <developmentalStageFilter>Baby, Child, Adult</developmentalStageFilter>
    <stages>
      <li>
        <label>high on nurodust</label>
        <description>Everything feels sharp and electric!</description>
        <baseMoodEffect>20</baseMoodEffect>
      </li>
      <li>
        <label>crashed from nurodust</label>
        <description>The world slowed down too much…</description>
        <baseMoodEffect>-15</baseMoodEffect>
      </li>
    </stages>
  </ThoughtDef>
  
  
  <!-- Neurodust addiction -->

  <ChemicalDef>
    <defName>Neurodust</defName>
    <label>neurodust</label>
    <addictionHediff>NeurodustAddiction</addictionHediff>
    <geneOverdoseChanceFactorResist>0.5</geneOverdoseChanceFactorResist>
    <geneOverdoseChanceFactorImmune>0</geneOverdoseChanceFactorImmune>
  </ChemicalDef>
  
  <NeedDef ParentName="DrugAddictionNeedBase">
    <defName>Chemical_Neurodust</defName>
    <needClass>Need_Chemical</needClass>
    <label>neurodust</label>
    <description>Because of a neurodust addiction, this person needs to regularly consume the drug to avoid withdrawal symptoms.</description>
    <fallPerDay>0.333</fallPerDay>
    <listPriority>45</listPriority>
  </NeedDef>

  <HediffDef ParentName="AddictionBase">
    <defName>NeurodustAddiction</defName>
    <label>neurodust addiction</label>
    <description>A chemical addiction to neurodust. Long-term presence of neurodust has caused neurological adaptations at the cellular level, so the brain can no longer function properly without the drug.
\nWithout regular doses of neurodust, withdrawal symptoms will begin. However, extended abstinence will force the brain to adapt back to its normal state, resolving the addiction.</description>
    <hediffClass>Hediff_Addiction</hediffClass>
    <causesNeed>Chemical_Neurodust</causesNeed>
    <comps>
      <li Class="HediffCompProperties_SeverityPerDay">
        <severityPerDay>-0.045</severityPerDay>
        <showDaysToRecover>true</showDaysToRecover>
      </li>
    </comps>
    <stages>
      <li>
      </li>
      <li>
        <label>withdrawal</label>
        <painFactor>3</painFactor>
        <hungerRateFactorOffset>0.5</hungerRateFactorOffset>
        <statOffsets>
          <RestFallRateFactor>0.3</RestFallRateFactor>
        </statOffsets>
        <capMods>
          <li>
            <capacity>Consciousness</capacity>
            <offset>-0.40</offset>
          </li>
          <li>
            <capacity>Sight</capacity>
            <offset>-0.10</offset>
          </li>
          <li>
            <capacity>Manipulation</capacity>
            <offset>-0.15</offset>
          </li>
        </capMods>
        <mentalStateGivers>
          <li>
            <mentalState>Binging_DrugExtreme</mentalState>
            <mtbDays>40</mtbDays>
          </li>
          <li>
            <mentalState>Wander_Psychotic</mentalState>
            <mtbDays>10</mtbDays>
          </li>
        </mentalStateGivers>
      </li>
    </stages>
  </HediffDef>
  
  <ThoughtDef>
    <defName>NeurodustWithdrawal</defName>
    <workerClass>ThoughtWorker_Hediff</workerClass>
    <hediff>NeurodustAddiction</hediff>
    <validWhileDespawned>true</validWhileDespawned>
    <developmentalStageFilter>Baby, Child, Adult</developmentalStageFilter>
    <stages>
      <li>
        <visible>false</visible>
      </li>
      <li>
        <label>neurodust withdrawal</label>
        <description>I need that lightning powder again… everything feels dull.</description>
        <baseMoodEffect>-20</baseMoodEffect>
      </li>
    </stages>
  </ThoughtDef>

  <HediffDef ParentName="DrugToleranceBase">
    <defName>NeurodustTolerance</defName>
    <label>neurodust tolerance</label>
    <description>A built-up tolerance to neurodust. The more severe this tolerance is, the more neurodust it takes to get the same effect.</description>
    <comps>
      <li Class="HediffCompProperties_SeverityPerDay">
        <severityPerDay>-0.015</severityPerDay>
      </li>
      <li Class="HediffCompProperties_DrugEffectFactor">
        <chemical>Neurodust</chemical>
      </li>
    </comps>
    <hediffGivers>
      <li Class="HediffGiver_RandomDrugEffect">
        <hediff>ChemicalDamageModerate</hediff>
        <severityToMtbDaysCurve>
          <points>
            <li>(0.45, 99999)</li>
            <li>(0.5, 120)</li>
            <li>(1, 90)</li>
          </points>
        </severityToMtbDaysCurve>
        <partsToAffect>
          <li>Brain</li>
        </partsToAffect>
      </li>
    </hediffGivers>
  </HediffDef>
  
</Defs>
